{% extends "base.html" %}
{% block head %}
<script src="/js/gl-google-maps.js" type="text/javascript" charset="utf-8"></script>
<script src="/js/jquery-locations.js" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript">
	
	$(document).ready(function() {
	console.log('JQuery Document ready');
	$("#location-form").submit(function(e) {
	e.preventDefault();
	var dataString=$(this).serialize();
	$("#debug-output").text(dataString);
	$.ajax({
	type:"POST",url:"/add-location.html",dataType:"json",data:dataString,success: function(data) {
	alert("Saved "+data.date+" id: "+data.id);
	},error: function(jqXHR,textStatus,errorThrown) {
	alert("Error: "+errorThrown+"\nTextStatus: "+textStatus)
	}
	});
	});
	$.ajax({
	type:"GET",url:"/list-locations.json",dataType:"json",success:loadLocations
	});
	});
</script>
{% endblock %}
{% block tools %}
<div id="map_info">
	Center: <span id="map_center">Center</span>
	<br/>
	Zoom: <span id="map_zoom">Zoom</span>
	<br/>
	<form id="location-form">
		<label for="name" class="loc-labels">Name:</label>
		<input id="name" name="name" type="text">
		<br/>
		<label for="latitude"  class="loc-labels">Latitude:</label>
		<input id="latitude" name="latitude" type="text">
		<br/>
		<label for="longitude" class="loc-labels">Longitude:</label>
		<input id="longitude" name="longitude" type="text">
		<br/>
		<label for="zoom" class="loc-labels">Zoom:</label>
		<input id="zoom"  name="zoom" type="text">
		<br/>
		<div>
			<input type="submit" value="Save Location">
		</div>
	</form>
</div>
<div id="saved-locations">
	<div class="title">
		Locations for {{ username }}
	</div>
</div>
<div id="debug-window">
	<div>
		Debug Windows
	</div>
	<div id="debug-output"></div>
</div>

{% endblock %}
{% block map %}
<div id="map-canvas" ></div>
{% endblock %}